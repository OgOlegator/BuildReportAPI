# BuildReportAPI

# Общая информация
Приложение имитирует работу сервиса для построение больших и долго строящихся отчетов. Предполагается, что одновременно с сервисом может работать много пользователей. 
Пользователь запускает построение своего отчета путем вызова метода BUILD. Для простоты мы не передаем никаких параметров, полагаем, что приложение знает, что 
нужно пользователю. Чтобы прервать построение своего отчета пользователь может вызвать метод STOP

# Задание
Написать приложение, публикующее Web API из двух методов
Метод BUILD:
HTTP метод: GET.   
Без параметров. 
Возвращает целое: ID запроса на построение отчета.
Метод STOP: 
HTTP метод: POST. 
Принимает в теле запроса целое число: ID запроса на построение отчета, выданное ранее методом BUILD

Условия
Программа содержит классы:
Класс ReportBuilder – построитель отчетов, реализует интерфейс IReportBuilder
Методы:
- public byte[] Build(). Возвращает массив, содержащий отчет. Эмулирует построение отчета:  ожидает случайное время от 5 до 45 секунд, после чего записывает в массив байт строку «Report built in [s] s.» (UTF-8) и возвращает заполненный массив, где [s] – время построения отчета. С вероятностью 20% через 3 секунды выкидывает исключение: throw new Exception(“Report failed“). Ожидание реализовать как цикл от 5 до 45 раз усыпляющий поток на 1 секунду.

Класс Reporter, реализует интерфейс IReporter
Методы:
- public void ReportSuccess(byte[] Data, int Id). Записывает в файл с именем Report_[Id]. txt  байты из Data. Где [Id] – значение аргумента Id.
- public void ReportError( int Id).  Записывает в файл с именем Error_[Id]. txt  текст «Report error». Где [Id] – значение аргумента Id.
- public void ReportTimeout( int Id).  Записывает в файл с именем Timeout_[Id]. txt  текст «Report error». Где [Id] – значение аргумента Id.

Описание работы приложения
Web метод BUILD должен запустить метод Build класса ReportBuilder, присвоить запросу на построение номер, и вернуть в качестве ответа. Номера назначать последовательно,
начиная с нуля.
- Если метод Build завершился успешно менее чем за N секунд, должен быть вызван метод ReportSuccess класса Reporter, куда передан результат работы Build.
- Если метод Build выкинул исключение, должен быть вызван метод ReportError класса Reporter.
- Если метод Build не был выполнен за N секунд, должен быть вызван метод ReportTimeout класса Reporter, выполнение метода Build должно быть прекращено.

Web метод STOP должен остановить построение соответствующего отчета.
